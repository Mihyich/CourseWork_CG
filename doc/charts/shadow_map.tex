\begin{figure}
\centering
\begin{tikzpicture}[y=1cm, x=1cm, yscale=\globalscale*0.8, every node/.style={font=\scriptsize},xscale=\globalscale*0.8, every node/.style={font=\scriptsize}, every node/.append style={scale=\globalscale}, inner sep=0pt, outer sep=0pt]
  \path[draw=black,miter limit=10.0,dash pattern=on 0.0794cm off 0.0794cm] (16.4042, 16.9558) -- (16.6688, 16.9558) -- (16.9333, 16.955);



  \path[draw=black,fill=white,dash pattern=on 0.0794cm off 0.0794cm] (12.1708, 19.0651) rectangle (16.4042, 14.845);



  \path[draw=black,miter limit=10.0,dash pattern=on 0.0794cm off 0.0794cm] (4.2333, 11.67) -- (4.7625, 11.6567);



  \path[draw=black,fill=white,dash pattern=on 0.0794cm off 0.0794cm] (0.0, 16.9616) rectangle (4.2333, 6.3783);



  \path[draw=black,miter limit=10.0,dash pattern=on 0.0794cm off 0.0794cm] (3.7042, 17.9935) -- (4.7625, 17.9935);



  \path[draw=black,miter limit=10.0] (2.1167, 17.1998) -- (2.1167, 16.6706);



  \path[draw=black,fill=white,rounded corners=0.4445cm] (0.5292, 18.7873) rectangle (3.7042, 17.1998);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text2549) at (2.1167, 17.8858){Начало};



  \end{scope}
  \path (4.7625, 19.3164) rectangle (5.7944, 16.6706);



  \path[draw=black,miter limit=10.0] (5.7944, 19.3164) -- (4.7625, 19.3164) -- (4.7625, 16.6706) -- (5.7944, 16.6706);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text2469) at (6, 17.8858){Алгоритм стандартных теневых карт};



  \end{scope}
  \path[draw=black,miter limit=10.0] (2.1167, 15.0831) -- (2.1167, 14.5672);



  \path[draw=black,fill=white] (0.5292, 16.6706) rectangle (3.7042, 15.0831);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text2966) at (2.1167, 15.7692){Инициализировать теневую карту};



  \end{scope}
  \path[draw=black,miter limit=10.0] (2.1167, 12.9797) -- (2.1167, 12.4637);



  \path[draw=black,fill=white] (0.5292, 14.5672) rectangle (3.7042, 12.9797);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text6546) at (2.1167, 13.679){Инициализировать источник света};



  \end{scope}
  \path[draw=black,miter limit=10.0] (2.1167, 10.8762) -- (2.1167, 10.3471);



  \path[draw=black,fill=white] (0.5292, 12.4637) rectangle (3.7042, 10.8762);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text1082) at (2.1167, 11.5623){Инициализировать камеру};



  \end{scope}
  \path[draw=black,miter limit=10.0] (2.1167, 8.7596) -- (2.1167, 8.2304);



  \path[draw=black,fill=white] (0.5292, 10.3471) rectangle (3.7042, 8.7596);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text8917) at (2.1167, 9.4456){Инициализировать модели};



  \end{scope}
  \path (4.7625, 13.2064) rectangle (5.7944, 10.1071);



  \path[draw=black,miter limit=10.0] (5.7944, 13.2064) -- (4.7625, 13.2064) -- (4.7625, 10.1071) -- (5.7944, 10.1071);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text7521) at (6.5, 11.5623){Подготовительный этап, инициализирующий минимально необходимые данные};



  \end{scope}
  \path[draw=black,miter limit=10.0] (2.1167, 6.6429) -- (2.1167, 6.1132) -- (8.9958, 6.1132) -- (8.9958, 19.3424) -- (14.2875, 19.3424) -- (14.2875, 18.7873);



  \path[draw=black,fill=white] (0.5292, 8.2304) rectangle (3.7042, 6.6429);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text5316) at (2.1167, 7.329){Инициализировать
шейдеры};



  \end{scope}
  \path[draw=black,miter limit=10.0] (14.2875, 17.1998) -- (14.2875, 16.6706);



  \path[draw=black,fill=white] (12.7, 18.7873) rectangle (15.875, 17.1998);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text918) at (14.2875, 17.8858){Нарисовать сцену с точки зрения источника света};



  \end{scope}
  \path[draw=black,miter limit=10.0] (14.2875, 15.0831) -- (14.2875, 14.3158);



  \path[draw=black,fill=white] (12.7, 16.6706) rectangle (15.875, 15.0831);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text5470) at (14.2875, 15.7692){Заполнить теневую карту значениями глубины};



  \end{scope}
  \path (16.9333, 18.2779) rectangle (17.9652, 15.6321);



  \path[draw=black,miter limit=10.0] (17.9652, 18.2779) -- (16.9333, 18.2779) -- (16.9333, 15.6321) -- (17.9652, 15.6321);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)} ] (text9424) at (18.5, 16.854){Этап заполнения теневой карты};



  \end{scope}
  \path[draw=black,miter limit=10.0] (14.2875, 12.9929) -- (14.2875, 12.4637);



  \path[draw=black,fill=white,miter limit=10.0] (13.2292, 14.3158) -- (15.3458, 14.3158) -- (15.875, 13.8925) -- (15.875, 12.9929) -- (12.7, 12.9929) -- (12.7, 13.8925) -- cycle;



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text8252) at (14.2875, 13.5467){Обработка N пикселей};



  \end{scope}
  \path[draw=black,miter limit=10.0] (14.2875, 2.145) -- (14.2875, 1.6158);



  \path[draw=black,fill=white,miter limit=10.0,cm={ -1.0,-0.0,0.0,-1.0,(28.575, 5.6129)}] (13.2292, 3.4679) -- (15.3458, 3.4679) -- (15.875, 3.0446) -- (15.875, 2.145) -- (12.7, 2.145) -- (12.7, 3.0446) -- cycle;



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text9232) at (14.2875, 2.6988){Пока остались необработанные пиксели};



  \end{scope}
  \path[draw=black,miter limit=10.0] (14.2875, 10.8762) -- (14.2875, 10.3471);



  \path[draw=black,miter limit=10.0,dash pattern=on 0.0794cm off 0.0794cm] (15.875, 11.67) -- (16.6688, 11.67);



  \path[draw=black,fill=white] (12.7, 12.4637) rectangle (15.875, 10.8762);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text6919) at (14.2875, 11.5623){Преобразовать координаты фрагмента в пространство света};



  \end{scope}
  \path[draw=black,miter limit=10.0,dash pattern=on 0.0794cm off 0.0794cm] (15.875, 9.5401) -- (16.6688, 9.5401);



  \path[draw=black,miter limit=10.0] (14.2875, 8.7463) -- (14.2875, 8.4825) -- (14.2875, 8.2304);



  \path[draw=black,fill=white] (12.7, 10.3338) rectangle (15.875, 8.7463);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text2069) at (14.2875, 9.4456){Считать соответсвующее значение глубины из теневой карты};



  \end{scope}
  \path (16.6688, 12.477) rectangle (17.7271, 10.863);



  \path[draw=black,miter limit=10.0] (17.7271, 12.477) -- (16.6688, 12.477) -- (16.6688, 10.863) -- (17.7271, 10.863);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)} ] (text3324) at (17.5, 11.5623){Далее
d1};



  \end{scope}
  \path (16.6688, 10.3471) rectangle (17.7006, 8.7331);



  \path[draw=black,miter limit=10.0] (17.7006, 10.3471) -- (16.6688, 10.3471) -- (16.6688, 8.7331) -- (17.7006, 8.7331);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)} ] (text7715) at (17.5, 9.4456){Далее d2};



  \end{scope}
  \path[draw=black,miter limit=10.0] (15.875, 7.4366) -- (16.3777, 7.4374) -- (16.3777, 6.2823);



  \path[draw=black,fill=black,miter limit=10.0] (16.3777, 6.1434) -- (16.2851, 6.3286) -- (16.3777, 6.2823) -- (16.4703, 6.3286) -- cycle;



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text5409) at (16.1396, 7.62){Да};



  \end{scope}
  \path[draw=black,miter limit=10.0] (12.7, 7.4366) -- (12.1708, 7.4374) -- (12.1708, 6.2823);



  \path[draw=black,fill=black,miter limit=10.0] (12.1708, 6.1434) -- (12.0782, 6.3286) -- (12.1708, 6.2823) -- (12.2634, 6.3286) -- cycle;



  \path[draw=black,fill=white,miter limit=10.0] (14.2875, 8.2304) -- (15.875, 7.4366) -- (14.2875, 6.6429) -- (12.7, 7.4366) -- cycle;



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text6167) at (14.2875, 7.329){d1 > d2};



  \end{scope}
  \path[draw=black,miter limit=10.0] (16.3777, 4.5262) -- (16.3777, 3.9979) -- (14.2875, 3.9979) -- (14.2875, 3.6364);



  \path[draw=black,fill=black,miter limit=10.0] (14.2875, 3.4975) -- (14.1949, 3.6827) -- (14.2875, 3.6364) -- (14.3801, 3.6827) -- cycle;



  \path[draw=black,fill=white] (14.7902, 6.1137) rectangle (17.9652, 4.5262);



  \path[draw=black,miter limit=10.0] (15.1077, 6.1137) -- (15.1077, 4.5262)(17.6477, 6.1137) -- (17.6477, 4.5262);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text4721) at (16.3777, 5.2123){Применить\\фоновое\\освещение};



  \end{scope}
  \path[draw=black,miter limit=10.0] (12.1708, 4.5262) -- (12.1708, 3.9979) -- (14.2875, 3.9979) -- (14.2875, 3.6364);



  \path[draw=black,fill=black,miter limit=10.0] (14.2875, 3.4975) -- (14.1949, 3.6827) -- (14.2875, 3.6364) -- (14.3801, 3.6827) -- cycle;



  \path[draw=black,fill=white] (10.5833, 6.1137) rectangle (13.7583, 4.5262);



  \path[draw=black,miter limit=10.0] (10.9008, 6.1137) -- (10.9008, 4.5262)(13.4408, 6.1137) -- (13.4408, 4.5262);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text3281) at (12.1708, 5.2123){Применить\\полное\\освещение};



  \end{scope}
  \path[draw=black,fill=white,rounded corners=0.4445cm] (12.7, 1.6158) rectangle (15.875, 0.0283);



  \begin{scope}[shift={(-0.0132, 0.0132)}]
    \node[text=black,anchor=south,fit={(0,0) (3.175, 1.5875)}] (text6452) at (14.2875, 0.7144){Конец};



  \end{scope}

\end{tikzpicture}

\caption{Схема стандартного алгоритма теневых карт}
\label{chart:shadow_map}

\end{figure}
